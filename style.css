/* === Премиальный тёмно-синий дизайн — восстановлен === */
body {
  font-family: 'Poppins', Arial, sans-serif;
  margin: 0;
  background-color: #0a0f23;
  color: #ffffff;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* общий контейнер-экран */
.screen {
  width: 100%;
  max-width: 600px;
  display: none;
  flex-direction: column;
  align-items: center;
  margin-top: 30px;
}

/* стартовый экран (auth-choice) — видим по умолчанию */
#auth-choice-screen { display:flex; flex-direction:column; align-items:center; }

/* логин/регистрация */
.login-box {
  background: linear-gradient(145deg,#0f1a36,#182147);
  padding: 25px 20px;
  border-radius: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  box-shadow: 0 6px 20px rgba(0,0,0,0.7);
}
.login-box input {
  padding: 10px;
  margin: 8px 0;
  border-radius: 8px;
  border: none;
  width: 220px;
  font-size: 15px;
}
.login-box button {
  padding: 8px 15px;
  border: none;
  border-radius: 14px;
  background: linear-gradient(135deg,#001f4d,#003366);
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  width: 140px;
  margin-top: 8px;
}
.login-box button:hover { transform: translateY(-2px); box-shadow: 0 0 12px #002b70,0 0 20px #004080; }

/* navbar */
.navbar {
  width: 100%;
  background: linear-gradient(90deg,#00102b,#001f4d);
  color: white;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-sizing: border-box;
  box-shadow: 0 2px 6px rgba(0,0,0,0.7);
}
.user-info { display: flex; gap: 20px; font-weight: bold; }
#navbar-br { color: gold; font-weight: bold; text-shadow: 0 0 5px gold, 0 0 10px orange; }

/* круг с дворцом — градиентный фон */
.emoji-circle {
  margin: 25px 0 15px;
  width: 260px;
  height: 260px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  position: relative;
  background: radial-gradient(circle at center, #001a40, #001f4d);
  animation: neonPulse 2s infinite alternate;
  box-shadow: 0 0 20px #001f4d,0 0 40px #002b70;
}
.emoji-circle img { width: 85%; height: 85%; object-fit: contain; }
@keyframes neonPulse { 0% { box-shadow: 0 0 10px #001f4d,0 0 12px #002b70; } 100% { box-shadow: 0 0 14px #001f4d,0 0 18px #002b70; } }

/* уровень (10 человечков) + маленький прогресс */
.level-container { display:flex; align-items:center; gap:8px; margin-bottom:20px; }
.level-bar { display:flex; justify-content:center; gap:5px; font-size:18px; }
.level-bar span { opacity:0.15; transition:opacity 0.3s; }
.level-bar span.active { opacity:1; text-shadow:0 0 4px #fff,0 0 7px #0ff; }
.level-progress { height:16px; width:120px; border-radius:8px; background: linear-gradient(90deg,#004080,#0070c0); display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:bold; color:#fff; }

/* кнопки 3x2 */
.button-container { display:grid; grid-template-columns: repeat(3,1fr); gap:12px; margin-bottom:20px; padding:0 15px; width:100%; max-width:500px; box-sizing:border-box; }
.neon {
  padding:10px; font-size:14px; border:none; border-radius:14px; cursor:pointer; font-weight:bold; color:#fff;
  background: linear-gradient(145deg, #001f4d,#003366); text-align:center; transition: transform 0.3s, box-shadow 0.3s;
  box-shadow: 0 0 4px rgba(0,80,160,0.2), 0 0 6px rgba(0,50,120,0.2);
}
.neon:hover { transform: translateY(-2px); box-shadow: 0 0 8px rgba(0,80,160,0.5), 0 0 12px rgba(0,50,120,0.5); }

/* контент-блок */
.content {
  width: calc(100% - 30px);
  background: linear-gradient(145deg,#00102b,#001f4d);
  padding:20px;
  margin:0 15px;
  border-radius:14px;
  box-shadow:0 4px 20px rgba(0,0,0,0.7);
  min-height:150px;
  box-sizing:border-box;
  position:relative;
  overflow-x:auto;
}

/* под-кнопки */
.sub-buttons { display:flex; gap:10px; margin-top:15px; justify-content:flex-start; flex-wrap:wrap; }
.sub-buttons button { flex:1 1 100px; background: linear-gradient(145deg,#001f4d,#003366); color:#fff; font-weight:bold; border-radius:10px; border:none; padding:8px; cursor:pointer; box-shadow:0 0 4px #002b70,0 0 6px #004080; transition: transform 0.2s, box-shadow 0.2s; }
.sub-buttons button:hover { transform: translateY(-2px); box-shadow:0 0 8px #002b70,0 0 12px #004080; }

.toggle-buttons { display:flex; gap:15px; margin-bottom:15px; }
.toggle-buttons button { flex:1; background: linear-gradient(145deg,#001f4d,#003366); color:#fff; font-weight:bold; border:none; border-radius:14px; padding:8px; cursor:pointer; transition:0.3s; }
.toggle-buttons button:hover { box-shadow:0 0 8px #002b70,0 0 12px #004080; }

/* таблица рейтинга */
table { width:100%; border-collapse: collapse; margin-top:10px; color:#fff; }
th, td { border:1px solid rgba(255,255,255,0.2); padding:6px; text-align:center; }
th { background: rgba(255,255,255,0.05); }

/* сетка земель 3x3 */
.shop-grid { display:grid; grid-template-columns: repeat(3,1fr); gap:8px; margin-top:10px; }
.shop-grid div { background-color:#002b70; opacity:0.1; width:40px; height:40px; border-radius:4px; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:bold; cursor:pointer; transition:0.3s; }
.shop-grid div.owned { opacity:1; background: linear-gradient(145deg,#003366,#0055a0); }

/* адаптив */
@media(max-width:500px){ 
  .button-container { grid-template-columns: repeat(2,1fr); } 
  .emoji-circle{width:220px;height:220px;} 
}

/* === Анимация мечей при тапе по дворцу === */
.sword-tap {
  position: absolute;
  font-size: 24px;
  color: #00ffff;
  animation: swordUp 0.8s ease-out forwards;
  pointer-events: none;
}

@keyframes swordUp {
  0% { opacity: 1; transform: translateY(0) rotate(0deg); }
  100% { opacity: 0; transform: translateY(-60px) rotate(20deg); }
}

/* Энергия над дворцом */
#energy-display {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  color: #0ff;
  font-weight: bold;
  text-shadow: 0 0 6px #0ff, 0 0 12px #00ffff;
}

